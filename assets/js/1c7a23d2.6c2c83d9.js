"use strict";(self.webpackChunkuser_guide=self.webpackChunkuser_guide||[]).push([[181],{3905:function(e,r,t){t.d(r,{Zo:function(){return s},kt:function(){return d}});var a=t(7294);function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function i(e,r){if(null==e)return{};var t,a,n=function(e,r){if(null==e)return{};var t,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var p=a.createContext({}),c=function(e){var r=a.useContext(p),t=r;return e&&(t="function"==typeof e?e(r):l(l({},r),e)),t},s=function(e){var r=c(e.components);return a.createElement(p.Provider,{value:r},e.children)},u={inlineCode:"code",wrapper:function(e){var r=e.children;return a.createElement(a.Fragment,{},r)}},m=a.forwardRef((function(e,r){var t=e.components,n=e.mdxType,o=e.originalType,p=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),m=c(t),d=n,h=m["".concat(p,".").concat(d)]||m[d]||u[d]||o;return t?a.createElement(h,l(l({ref:r},s),{},{components:t})):a.createElement(h,l({ref:r},s))}));function d(e,r){var t=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var o=t.length,l=new Array(o);l[0]=m;var i={};for(var p in r)hasOwnProperty.call(r,p)&&(i[p]=r[p]);i.originalType=e,i.mdxType="string"==typeof e?e:n,l[1]=i;for(var c=2;c<o;c++)l[c]=t[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},4891:function(e,r,t){t.r(r),t.d(r,{frontMatter:function(){return i},contentTitle:function(){return p},metadata:function(){return c},toc:function(){return s},default:function(){return m}});var a=t(7462),n=t(3366),o=(t(7294),t(3905)),l=["components"],i={sidebar_position:2},p="%proc_compare",c={unversionedId:"macros/macros-validation/proc-compare",id:"macros/macros-validation/proc-compare",title:"%proc_compare",description:"Created by **Jonathan Amato**_",source:"@site/docs/macros/macros-validation/proc-compare.md",sourceDirName:"macros/macros-validation",slug:"/macros/macros-validation/proc-compare",permalink:"/user-guide/docs/macros/macros-validation/proc-compare",editUrl:"https://github.com/Emanate-Biostats-Inc/user-guide/blob/master/docs/macros/macros-validation/proc-compare.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"macrosSidebar",previous:{title:"%compareNobs",permalink:"/user-guide/docs/macros/macros-validation/comparenobs"},next:{title:"%primaryData",permalink:"/user-guide/docs/macros/macros-validation/listings/primarydata"}},s=[{value:"Description",id:"description",children:[{value:"QC Version Available?",id:"qc-version-available",children:[],level:4}],level:2},{value:"Syntax",id:"syntax",children:[],level:2},{value:"Required Parameters",id:"required-parameters",children:[{value:"<em>base</em>",id:"base",children:[],level:3},{value:"<em>compare</em>",id:"compare",children:[],level:3}],level:2},{value:"Additional Required Parameters for TFLs",id:"additional-required-parameters-for-tfls",children:[{value:"<em>program</em>",id:"program",children:[],level:3},{value:"<em>vars</em>",id:"vars",children:[],level:3},{value:"<em>with</em>",id:"with",children:[],level:3},{value:"<em>part</em>",id:"part",children:[],level:3}],level:2},{value:"Optional Parameters",id:"optional-parameters",children:[{value:"<em>criterion</em>",id:"criterion",children:[],level:3},{value:"<em>options</em>",id:"options",children:[],level:3},{value:"<em>id</em>",id:"id",children:[],level:3},{value:"<em>explanation</em>",id:"explanation",children:[],level:3},{value:"<em>debug</em>",id:"debug",children:[],level:3}],level:2},{value:"Examples",id:"examples",children:[],level:2},{value:"Outcome",id:"outcome",children:[{value:"ProjectFolder/Output/QC/qc_report",id:"projectfolderoutputqcqc_report",children:[],level:3},{value:"ProjectFolder/Output/QC/Reports",id:"projectfolderoutputqcreports",children:[],level:3},{value:"ProjectFolder/Output/QC/Comparisons",id:"projectfolderoutputqccomparisons",children:[],level:3}],level:2},{value:"Notes",id:"notes",children:[],level:2}],u={toc:s};function m(e){var r=e.components,i=(0,n.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},u,i,{components:r,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"proc_compare"},"%proc_compare"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Created by ",(0,o.kt)("a",{parentName:"em",href:"mailto:jonathan.amato@emanatebiostats.com?subject=User%20Guide:%20proc_compare"},(0,o.kt)("strong",{parentName:"a"},"Jonathan Amato")))),(0,o.kt)("h2",{id:"description"},"Description"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"proc_compare")," serves a few different purposes."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"manages the handling of all program QC documentation"),(0,o.kt)("li",{parentName:"ul"},"automatically updates a SAS dataset and excel file that provides all current information about program QC status"),(0,o.kt)("li",{parentName:"ul"},"automatic snapshots of QC documentation and overall QC file for each program and day")),(0,o.kt)("h4",{id:"qc-version-available"},"QC Version Available?"),(0,o.kt)("p",null,"N/A"),(0,o.kt)("h2",{id:"syntax"},"Syntax"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sas"},'%macro proc_compare(\n  base = null,\n  compare = null,\n  program = null,\n  vars = null,\n  with = null,\n  part = null,\n  criterion = null,\n  options = listall,\n  id = null,\n  explanation = "",\n  debug = 0\n);\n')),(0,o.kt)("h2",{id:"required-parameters"},"Required Parameters"),(0,o.kt)("h3",{id:"base"},(0,o.kt)("em",{parentName:"h3"},"base")),(0,o.kt)("p",null,"This is the same value you would use in a normal proc compare."),(0,o.kt)("h3",{id:"compare"},(0,o.kt)("em",{parentName:"h3"},"compare")),(0,o.kt)("p",null,"This is the same value you would use in a normal proc compare."),(0,o.kt)("h2",{id:"additional-required-parameters-for-tfls"},"Additional Required Parameters for TFLs"),(0,o.kt)("h3",{id:"program"},(0,o.kt)("em",{parentName:"h3"},"program")),(0,o.kt)("p",null,"This is the value of the ",(0,o.kt)("strong",{parentName:"p"},"Program")," column in the programming log."),(0,o.kt)("h3",{id:"vars"},(0,o.kt)("em",{parentName:"h3"},"vars")),(0,o.kt)("p",null,"This is the same value you would use in a normal proc compare."),(0,o.kt)("h3",{id:"with"},(0,o.kt)("em",{parentName:"h3"},"with")),(0,o.kt)("p",null,"This is the same value you would use in a normal proc compare."),(0,o.kt)("h3",{id:"part"},(0,o.kt)("em",{parentName:"h3"},"part")),(0,o.kt)("p",null,"Set to 1 for the first call/part, 2 for the next, etc. See Example 3 below."),(0,o.kt)("h2",{id:"optional-parameters"},"Optional Parameters"),(0,o.kt)("h3",{id:"criterion"},(0,o.kt)("em",{parentName:"h3"},"criterion")),(0,o.kt)("p",null,"This is the same value you would use in a normal proc compare."),(0,o.kt)("h3",{id:"options"},(0,o.kt)("em",{parentName:"h3"},"options")),(0,o.kt)("p",null,'This is the same value you would use in a normal proc compare. Defaults to "listall"'),(0,o.kt)("h3",{id:"id"},(0,o.kt)("em",{parentName:"h3"},"id")),(0,o.kt)("p",null,"This is the same value you would use in a normal proc compare."),(0,o.kt)("h3",{id:"explanation"},(0,o.kt)("em",{parentName:"h3"},"explanation")),(0,o.kt)("p",null,'If applicable, set to "here is my explanation describing why there is a mismatch that isn\'t being corrected"'),(0,o.kt)("h3",{id:"debug"},(0,o.kt)("em",{parentName:"h3"},"debug")),(0,o.kt)("p",null,"Set to 1 if you want ",(0,o.kt)("strong",{parentName:"p"},"proc_compare")," to preserve all datasets used in the macro for debugging purposes."),(0,o.kt)("h2",{id:"examples"},"Examples"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"SDTM/ADaM")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sas"},"%proc_compare(\n  base = adam.adae,\n  compare = qc_final\n);\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Single part Table/Listing")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sas"},"%proc_compare(\n  base = final,\n  compare = qc_final,\n  program = t-lb,\n  vars = paramn ord text col1 col2 col3,\n  with = paramn ord stat trt1 trt2 trt3\n);\n")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Multiple part Listing")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sas"},"%primaryData; /* this macro is if you want to get the dataset and variables from production */\n\n%proc_compare(\n  base = primary1,\n  compare = qc_final,\n  program = l-substance,\n  part = 1,\n  vars = &comparevars1,\n  with = subjid trt01a sudstxt suendat years cigarettes cigars pipes ecigs\n);\n\n%proc_compare(\n  base = primary2,\n  compare = qc_final,\n  program = l-substance,\n  part = 2,\n  vars = &comparevars2,\n  with = subjid trt01a day six prob1 prob2 sub\n);\n")),(0,o.kt)("h2",{id:"outcome"},"Outcome"),(0,o.kt)("h3",{id:"projectfolderoutputqcqc_report"},"ProjectFolder/Output/QC/qc_report"),(0,o.kt)("p",null,"SAS dataset that keeps track of all the relevant QC information across all programs"),(0,o.kt)("p",null,(0,o.kt)("img",{src:t(4961).Z})),(0,o.kt)("h3",{id:"projectfolderoutputqcreports"},"ProjectFolder/Output/QC/Reports"),(0,o.kt)("p",null,"Directory containing excel backups of qc_report each new date a QC program is run"),(0,o.kt)("h3",{id:"projectfolderoutputqccomparisons"},"ProjectFolder/Output/QC/Comparisons"),(0,o.kt)("p",null,"Directory containing all QC docs in RTF format"),(0,o.kt)("h2",{id:"notes"},"Notes"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The macro has 80 lines of checks so it should always provide helpful information in your SAS log if you happen to use it incorrectly. It won't run unless everything is in order."),(0,o.kt)("li",{parentName:"ul"},"This macro currently ignores the following and treats them as a clean compare",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Dataset labels differ"),(0,o.kt)("li",{parentName:"ul"},"Variable has different length"),(0,o.kt)("li",{parentName:"ul"},"Variable has different label")))))}m.isMDXComponent=!0},4961:function(e,r,t){r.Z=t.p+"assets/images/qc_report-469cf9f0a272478121c4f7158a0c1232.png"}}]);